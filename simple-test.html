<!DOCTYPE html>
<html>
<head>
    <title>–ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç Supabase</title>
</head>
<body>
    <h3>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–∞</h3>
    <div id="result"></div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        // –í–°–¢–ê–í–¨–¢–ï –î–ê–ù–ù–´–ï –ó–î–ï–°–¨
        const SUPABASE_URL = 'https://xmtstpmlsdxtkyhkysdx.supabase.co';
        const SUPABASE_ANON_KEY = '–≤—Å—Ç–∞–≤—å—Ç–µ_–∫–ª—é—á_—Å—é–¥–∞'; // –í—Å—Ç–∞–≤—å—Ç–µ –∫–ª—é—á

        const result = document.getElementById('result');
        
        try {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–ª—é—á –Ω–∞ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã
            const hasInvalid = /[^\x20-\x7E]/.test(SUPABASE_ANON_KEY);
            result.innerHTML += `<p>üîç –ï—Å—Ç—å –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã: ${hasInvalid ? '–î–ê' : '–ù–ï–¢'}</p>`;
            
            if (hasInvalid) {
                result.innerHTML += '<p>‚ùå –ö–ª—é—á —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã!</p>';
                result.innerHTML += '<p>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á –∑–∞–Ω–æ–≤–æ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "Copy" –≤ Supabase</p>';
            } else {
                result.innerHTML += '<p>‚úÖ –ö–ª—é—á –≤—ã–≥–ª—è–¥–∏—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ø—Ä–æ–±—É–µ–º –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è...</p>';
                
                const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
                
                supabase.from('demons').select('count', { count: 'exact', head: true })
                    .then(({ error }) => {
                        if (error) {
                            result.innerHTML += `<p>‚ùå –û—à–∏–±–∫–∞: ${error.message}</p>`;
                        } else {
                            result.innerHTML += '<p>‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ!</p>';
                        }
                    });
            }
        } catch (e) {
            result.innerHTML += `<p>‚ùå –û—à–∏–±–∫–∞: ${e.message}</p>`;
        }
    </script>
</body>
</html>
